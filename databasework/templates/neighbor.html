{% extends 'base.html' %}
{% block main_text %}
	<link href="/static/css/bootstrap2.min.css" rel="stylesheet" media="screen">
	<link href="/static/css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">
	<script src="/static/js/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
	<script src="/static/js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
    <style type="text/css">
    body{ font-size:12px; line-height:24px;}
    .exp1{font-size:xx-large;}
    </style>
	<div></div></br></br>
    <div class="container" id="global_container">
        <div><h2>邻区查询</h2></div></br>
        <form action class="form-horizontal">
			<div class="container-fluid pull-left">
				<input id="cell_id" maxlength="30" class="kari-nav-input" type="text" placeholder="CELL ID"/>
			</div>
			<div class="control-group">
				<button type="button" class="controls" onclick="query_neighbor()">查询</button>
				<button type="button" class="controls" onclick="calc_neighbor()">计算（更新）邻区</button>
			</div>
		</form></br></br></br>
		<div><p></p></div></br></br></br>
		<div class="row">
			<div class="container-fluid" style="overflow-y:auto; overflow-x:auto; height: 500px; width: 800px;">
				<table class="table">
					<thead>
						<tr>
							<th>小区id</th>
							<th>距离</th>
						</tr>
					</thead>
					<tbody>
						{% for r in cells %}
						<tr>
							<th>{{ r.fn_cell.id }}</th>
							<th>{{ r.distance }}</th>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
        <script type="text/javascript">
        	function query_neighbor() {
				window.location.href = '/neighbor/?cell_id='+$('#cell_id').val();
            }
            function calc_neighbor() {
            	$.get('/neighbor/calculator/');
            }
        </script>
    </div>

{% endblock %}
